(this["webpackJsonpsf-movies-filmed"]=this["webpackJsonpsf-movies-filmed"]||[]).push([[0],{174:function(e,t,a){e.exports=a(421)},179:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(72),l=a.n(r),i=a(51),o=(a(179),a(31)),c=a(35),m=a.n(c),d=a(73),u=a(17),f=a(18),h=a(20),p=a(19),v=a(21),g=s.a.createContext(),E=g.Provider,j=g.Consumer,b=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{id:"page-header"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"header-wrapper"},s.a.createElement(i.b,{to:"/",className:"site-logo"},s.a.createElement("strong",null," SF Movies ")))))}}]),t}(n.Component),y=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{id:"page-footer"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"footer-wrapper"},"Site Footer")))}}]),t}(n.Component),A=a(171),L=a.n(A),O=a(22),N=a.n(O);N.a.setApiKey("AIzaSyB3mQfjGA2w84n-DWr9hf1B1xLS_EajGjY"),N.a.enableDebug();var w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={movies:{moviesTitles:[],moviesFilmedAddresses:[],moviesFilmedAddressesLatLng:[],movieInfoObjLists:[{title:"",releaseYear:"",filmedAddresses:[]}]},googleMapURL:"https://maps.googleapis.com/maps/api/js?=AIzaSyB3mQfjGA2w84n-DWr9hf1B1xLS_EajGjY",googleMapAPIKey:"AIzaSyB3mQfjGA2w84n-DWr9hf1B1xLS_EajGjY",searchText:""},a.handleSearch=function(e){a.setState({searchText:e})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,s,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){var t=[];return setTimeout(N.a.fromAddress(e).then((function(e){var a=e.results[0].geometry.location,n={lat:a.lat,lng:a.lng};t.push(n)}),(function(e){console.error(e)})),1e3),t},"https://data.sfgov.org/resource/yitu-d5am.json",t=[],a=[],n=[],s=[],e.next=5,L.a.get("https://data.sfgov.org/resource/yitu-d5am.json").then((function(e){return e.data.map((function(e){return!1===a.includes(e.title)&&a.push(e.title),!1===n.includes(e.locations)&&void 0!==e.locations&&(n.push(e.locations),s.push(l(e.locations))),e}))}));case 5:t=e.sent,r=[],a.map((function(e){for(var a={title:e,filmedAddresses:[],filmedAddressesLatLng:[],releaseYear:""},n=0;n<t.length;n++)t[n].title===e&&(a.releaseYear=t[n].release_year,!1===a.filmedAddresses.includes(t[n].locations)&&a.filmedAddresses.push(t[n].locations),void 0!==t[n].locations&&a.filmedAddressesLatLng.push(l(t[n].locations,n)));r.push(a)})),this.setState({movies:{moviesTitles:a,moviesFilmedAddresses:n,moviesFilmedAddressesLatLng:s,movieInfoObjLists:r}});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchText,a=e.googleMapURL,n=e.googleMapAPIKey,r=this.state.movies,l=r.moviesTitles,i=r.moviesFilmedAddresses,o=r.moviesFilmedAddressesLatLng,c=this.handleSearch,m={movies:{moviesTitles:l,moviesFilmedAddresses:i,moviesFilmedAddressesLatLng:o,movieInfoObjLists:this.state.movies.movieInfoObjLists.filter((function(e){return e.title.toLowerCase().includes(t)}))},googleMapAPIKey:n,googleMapURL:a,handleSearch:c};return s.a.createElement(E,{value:m},s.a.createElement(b,null)," ",this.props.children," ",s.a.createElement(y,null))}}]),t}(n.Component),S=a(102),k=a(45);N.a.setApiKey("AIzaSyB3mQfjGA2w84n-DWr9hf1B1xLS_EajGjY"),N.a.enableDebug();var x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={arrPlacesLatLng:[],arrPlace:[],infoWindow:{isActive:!1,lat:"",lng:"",place:"",title:""}},a.handleClick=function(e,t){N.a.fromLatLng(e.lat,e.lng).then((function(t){var n=t.results[0].formatted_address;console.log(n),a.setState({infoWindow:{isActive:!0,lat:e.lat,lng:e.lng,place:n}})}),(function(e){console.error(e)}))},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.filmedAddresses.map(function(){var t=Object(d.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a){t.next=3;break}return t.next=3,N.a.fromAddress(a).then((function(t){var n=t.results[0].geometry.location,s={lat:n.lat,lng:n.lng};e.setState((function(e){return{arrPlacesLatLng:[].concat(Object(S.a)(e.arrPlacesLatLng),[s]),arrPlace:[].concat(Object(S.a)(e.arrPlace),[a])}}))}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.state,a=t.arrPlacesLatLng,n=(t.arrPlace,this.state.infoWindow),r=n.isActive,l=n.lat,i=n.lng,o=n.place,c=(n.title,this.props),m=c.filmedAddresses,d=c.moviesTitles;return s.a.createElement(k.GoogleMap,{defaultZoom:this.props.zoom,defaultCenter:{lat:37.773972,lng:-122.431297}},a.map((function(t,a){return s.a.createElement(k.Marker,{key:a,position:{lat:t.lat,lng:t.lng},draggable:!0,onClick:function(){e.handleClick(t,m[a],d[a])}})})),!0===r&&s.a.createElement(k.InfoWindow,{position:{lat:l,lng:i},onCloseClick:function(){e.setState({infoWindow:{isActive:!1,lat:"",lng:"",place:"",title:""}})}},s.a.createElement("div",{className:"info-window"},s.a.createElement("strong",null,o))))}}]),t}(n.Component),I=Object(k.withScriptjs)(Object(k.withGoogleMap)(x)),C=function(e){return s.a.createElement(j,null,(function(e){var t=e.handleSearch;return s.a.createElement("div",{className:"movie-filter"},s.a.createElement("form",null,s.a.createElement("label",null,"Search movie"),s.a.createElement("input",{onChange:function(e){e.preventDefault(),t(e.target.value)},type:"text",placeholder:"Input movie title"})))}))};a(396);N.a.setApiKey("AIzaSyB3mQfjGA2w84n-DWr9hf1B1xLS_EajGjY"),N.a.enableDebug();var F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={myIndex:null},a.handleBtnShowLocation=function(){a.setState({showLocation:!0})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.myIndex;return s.a.createElement(j,null,(function(a){var n=a.movies.movieInfoObjLists;return n.length>1?n.map((function(a,n){return s.a.createElement("div",{className:"movie"},s.a.createElement("div",{className:"movie__short-info"},s.a.createElement("span",{className:"info-tag"},"Movie Title"),s.a.createElement("span",{className:"release-year"},"Release year: ",a.releaseYear)),s.a.createElement("h2",{className:"movie__title heading-secondary"},a.title),s.a.createElement("button",{onClick:function(){return e.setState({myIndex:n})},className:"btn btn-render-location"},s.a.createElement("i",{class:"fas fa-plus-circle"})," Filmed Location"),s.a.createElement("ul",{className:"movie__filmed-address ".concat(t==n?"show-address-list":"hide-address-list")},s.a.createElement("div",{className:"address-list-wrapper"},s.a.createElement("button",{className:" btn btn-close-location",onClick:function(){return e.setState({myIndex:null})}},"X"),s.a.createElement("div",null,s.a.createElement("h2",{className:"movie__title heading-secondary"},a.title),s.a.createElement("h3",{className:"heading-tertiary"},s.a.createElement("span",null,"Release year:")," ",a.releaseYear),s.a.createElement("h3",{className:"heading-tertiary"},s.a.createElement("strong",null," Filmed Locations")),a.filmedAddresses.map((function(e,t){return void 0!==e?s.a.createElement("li",{key:t,className:"address-list"},e):s.a.createElement("li",{key:t,className:"address-list"},"Address Not specified")}))))))})):"Result Not Found"}))}}]),t}(n.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return s.a.createElement(j,null,(function(e){var t=e.movies.moviesFilmedAddresses,a=e.movies.moviesTitles,n=e.googleMapURL;return s.a.createElement("main",{id:"main"},s.a.createElement("section",{className:"section section-map"},s.a.createElement("div",{className:"container"},s.a.createElement("header",{className:"section-header"},s.a.createElement("h1",{className:"heading-primary"},"Movies Filmed Locations in San Francisco")),s.a.createElement("div",{className:"location-map primary-location-map"},s.a.createElement(I,{googleMapURL:n,loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"60rem"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),zoom:12,filmedAddresses:t,moviesTitles:a})))),s.a.createElement("section",{className:"section sectio-movies"},s.a.createElement("div",{className:"container"},s.a.createElement("header",{className:"section-header"},s.a.createElement("h1",{className:"heading-primary"},"Movie List with Filmed location"," ")),s.a.createElement(C,null),s.a.createElement("div",{className:"movies-wrapper"},s.a.createElement(F,null)))))}))}}]),t}(n.Component),_=function(e){return s.a.createElement(w,null,s.a.createElement(o.c,null,s.a.createElement(o.a,Object.assign({},e,{component:M,exact:!0,path:"/"})))," ")};l.a.render(s.a.createElement((function(e){return s.a.createElement(i.a,null,s.a.createElement(_,e))}),null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.09b559b4.chunk.js.map